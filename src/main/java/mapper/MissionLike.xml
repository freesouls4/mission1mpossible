<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
 "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
 

<mapper namespace="mapper.missionlike">
    <!-- 미션 좋아요 여부 조회 -->
    <select id="selectMissionLike" parameterType="hashmap" resultType="Integer">
        <![CDATA[
        select idx from goodidea where userIdx=#{userIdx} and missionIdx=#{missionIdx}
        ]]>
    </select>

    <!-- 미션 좋아요 추가 -->
    <insert id="insertMissionLike" parameterType="hashmap" useGeneratedKeys="true" keyProperty="idx">
        <![CDATA[
        insert into goodidea (userIdx, missionIdx) values (#{userIdx}, #{missionIdx})
        ]]>
    </insert>

    <!-- 미션 좋아요 삭제 -->
    <delete id="deleteMissionLike" parameterType="hashmap">
        <![CDATA[
        delete from goodidea where userIdx=#{userIdx} and missionIdx=#{missionIdx}
        ]]>
    </delete>
</mapper>